import{r as o,n as y,j as s}from"./index-DwvoAiy8.js";import{b as w,c as m,a as b}from"./index.esm-Bf7yr9NV.js";import{C as d,a as p}from"./CRow-DaTDNMwH.js";import{C as v}from"./CCardGroup-C_5RMJ3c.js";import{C as N,a as L}from"./CCardBody-CE4h0fN0.js";import{C as S}from"./CForm-BBna-FOz.js";import{C as u,a as x}from"./CInputGroupText-C4pmQhFZ.js";import{c as I}from"./cil-user-Ddrdy7PS.js";import{C as h}from"./CFormInput-BvKgY9JV.js";import{c as E}from"./cil-lock-locked-DmxpJbVL.js";const q=()=>{const[a,C]=o.useState(""),[t,j]=o.useState(""),[n,r]=o.useState(""),f=y(),g=async e=>{e.preventDefault(),r("");try{const i=(await(await fetch("http://localhost:3001/users")).json()).find(l=>l.username.toLowerCase()===a.toLowerCase()&&l.password===t);i?(localStorage.setItem("user",JSON.stringify(i)),f("/dashboard")):r("Credenciales incorrectas")}catch(c){console.error("Error al iniciar sesiÃ³n:",c),r("Error al conectar con el servidor")}};return s.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:s.jsx(w,{children:s.jsx(d,{className:"justify-content-center",children:s.jsx(p,{md:8,children:s.jsx(v,{children:s.jsx(N,{className:"loggins",children:s.jsx(L,{children:s.jsxs(S,{onSubmit:g,children:[s.jsx("h1",{children:"Login"}),s.jsx("p",{className:"text-body-secondary",children:"Sign In to your account"}),n&&s.jsx("p",{style:{color:"red"},children:n})," ",s.jsxs(u,{className:"mb-3",children:[s.jsx(x,{children:s.jsx(m,{icon:I})}),s.jsx(h,{placeholder:"Username",autoComplete:"username",value:a,onChange:e=>C(e.target.value)})]}),s.jsxs(u,{className:"mb-4",children:[s.jsx(x,{children:s.jsx(m,{icon:E})}),s.jsx(h,{type:"password",placeholder:"Password",autoComplete:"current-password",value:t,onChange:e=>j(e.target.value)})]}),s.jsx(d,{children:s.jsx(p,{xs:6,children:s.jsx(b,{color:"primary",className:"btlogin",type:"submit",children:"Login"})})})]})})})})})})})})};export{q as default};
